<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>CHANGE ME</title>
  <!-- STYLESHEETS -->

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
  <link rel="stylesheet" href="/styles/main.css">

  <!-- VENDOR SCRIPTS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>

  <!-- APPLICATION SCRIPTS -->
    <script src="/scripts/app.js"></script>
</head>

<body>
  <section class="container" id="listing-section">    
    <div class="row">
      <nav class="main-nav">
          
            <li><a href="#">Home</a></li>
            <li><a href="#">View Happy Hours</a></li>
            <li><a href="#">About Us</a></li>  
          </ul>
          
      </nav>
    </div>
    <div id="listing-image">
      <!-- <img src="CHANGE ME" alt="CHANGE ME" class="logo"> -->

    </div>

  </section>

  <section class="container" id="reviews-section">
    <div class="row">
      <h2>Reviews</h2>
    </div>
    
    <div class="row" id="review-list">
      





    </div>
  </section>
 
  <section class="container" id="modal-section">
    <div class="row">
      
      
      <!-- Modal Trigger -->
        <button class="waves-effect waves-light btn modal-trigger" data-target="modal1" id="add-review-btn">Add Review</button>

        <!-- Modal Structure -->
        <div id="modal1" class="modal">
          <div class="modal-content">
            <h4>Add a Review</h4>

            <div class="row">
              <form class="col s12" method="POST" action="/api/reviews" id="form-modal">
                <div class="row modal-form-row">
                  <div class="input-field col s12">
                    <input id="username" type="text" class="validate">
                    <label for="username">Your Name</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <textarea id="user-review" type="text" class="materialize-textarea validate"></textarea>
                    <label for="user-review">Your Review</label>
                  </div>
                  <div class="modal-footer">
                    <input type="submit" class="modal-action modal-close waves-effect waves-green btn-flat" id="submit-btn">
                  </div>
                </div>  
              </form>
            </div>
          </div>
        </div>


  </section>

  <!-- moved the template down here because we don't want to mistakenly manipulate the DOM where it will affect the template -->
  <script id="review-template" type="text/x-handlebars-template">  
    
    <div class="col m4" id="one-review" data-id="{{_id}}">
      <blockquote>{{userReview}}</blockquote>
      <p>{{username}}</p>
      <div class="update-delete-btn">
        <a href="javascript:void(0)" data-toggle="collapse" data-target="#update-{{_id}}">
          <button class="update-button btn waves-effect waves-light" id="update-btn">Update</button>
        </a>
        <a href="javascript:void(0)" class="delete-review">
          <button class="delete-button btn waves-effect waves-light" id="delete-btn" data-id="{{_id}}">Delete</button>
        </a>
      </div>
      <!-- form to update review -->
      <div class="collapse" id="update-{{_id}}">
        <div class="save-cancel-btn hidden">
          <input id="updateInput" value="{{userReview}}">
          <button class="save-button btn waves-effect waves-light" id="save-btn" data-id="{{_id}}">Save</button>
          <button class="cancel-button btn waves-effect waves-light" id="cancel-btn">Cancel</button>
        </div>
      </div>
    </div>
    
  </script>
</body>